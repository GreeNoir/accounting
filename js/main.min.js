function Diagnostics(a){a=a||{}}function Covariation(a){var b=function(a){var b=0;for(var c in a)b+=a[c];return b/=a.length},c=a.length,d=b(a),e=0;for(var f in a)e+=(a[f]-d)*(a[f]-d);e=Math.sqrt(1/c*e);var g=e/d*100;return g}function Max(a){var b=0,c=a[b];for(var d in a)a[d]>c&&(b=d);return b}var Form={validators:[],accountFormValid:!1,tabsFormValid:!1,needValidate:!0,isValid:!1,gender:0,age:-1,ageHormonsBound:1,notAnalyzeHormones:0,levels:["Ф","Э","А","М"],initTitle:"Экспертная система диагностики биоэнергетического состояния",isIE:!1,setNeedValidate:function(a){Form.needValidate=1==a},setValid:function(a){Form.isValid=a},addValidator:function(a){Form.validators.push(a)},checkIE:function(){(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>0)&&(Form.isIE=!0)},bindRefreshConfirmation:function(){$(window).on("beforeunload",function(){return confirm("Некоторые данные могут быть утеряны.")})},fillRecommendsForPrint:function(){$("#recommends textarea").keyup(function(){var a=$(this).attr("data-id"),b=$(this).val().trim();$('#recommends fieldset[data-id="'+a+'"] > div.print').html(b)})},unbindRefreshConfirmation:function(){$(window).off("beforeunload")},preservation:function(a){if(1989!=a){var b=new Date(2016,9,1),c=new Date;c>b&&(Form.unbindRefreshConfirmation(),$("body").css("background-color","black").empty(),alert("Использование пробной версии продукта завершено."))}},initZoom:function(){window.parent.document.body.style.zoom=.9},init:function(a){Form.initZoom(),Form.preservation(a),Form.checkIE(),Form.fillRecommendsForPrint(),Form.isIE&&($("#ie_error").modal(),$("button#reset").addClass("disabled"),$("button#reset").off("click"),$("nav li.reset").addClass("disabled")),$('input[name="validate"]').change(function(){var a=$('input[name="validate"]:checked').val();Form.setNeedValidate(a)}),$('[data-toggle="tooltip"]').tooltip({trigger:"hover"}),Form.showLoader(),loadData(function(){Form.initValidator(),Form.initMainChakraPanel(),Form.initSmallChakraPanel(),Form.initAge(),Form.initHormonesPart(),Form.initCocoonPart(),Form.initKharicheskayaPart(),Form.initOrganSystemsDiagnosticsPart(),Form.initOrganDiagnosticsPart(),Form.initShellPart(),DiagnosticsEditor.init(),setTimeout(Form.hideLoader,1e3)})},resetValidators:function(){for(var a in Form.validators)Form.validators[a].resetForm();return $("#validation_disabled").modal(),$("#account_form_msg").addClass("hidden"),$("#tabs_form_msg").addClass("hidden"),$("#tab_bioenergy").removeClass("bg-danger"),$("#tab_organism").removeClass("bg-danger"),$("#tab_energetics").removeClass("error"),$("#tab_confidence").removeClass("error"),!0},initMainChakraPanel:function(){$("#chakra_main_form #mainContent").empty();for(var a=["front","back","middle"],b=["спереди","сзади","по центру"],c=0;c<3;c++){for(var d=$('<div class="col-md-4"><fieldset><legend>Чакры '+b[c]+"</legend></fieldset></div>"),e=0;e<MainChakraViolations.length;e++){var g=$('<div class="form-group row"><div class="checkbox"><label><input type="checkbox" name="'+a[c]+'" value="'+e+'">'+MainChakraViolations[e].chakra+"</label></div>");d.append(g)}$("#chakra_main_form #mainContent").append(d)}},initSmallChakraPanel:function(){$("#chakra_small_form").empty();for(var a=0,b=0;b<3;b++){for(var c=$('<div class="col-md-4"></div>'),d=0;d<9;d++){var e=$('<div class="form-group row"><div class="checkbox"><label><input type="checkbox" name="'+a+'" value="1">'+SmallChakraViolations[a].chakra+"</label></div></div>");c.append(e),a++}$("#chakra_small_form").append(c)}},setGender:function(a){Form.gender=a},getGenderHormones:function(){var a=[];return 1==Form.gender?a=[]:2==Form.gender&&(a=[0,1,2]),a},analyzeHormons:function(a){var b=[],c=Form.age;for(var d in a){var e=a[d].hormon,f=a[d].value;for(var g in hormonAnalyses)if(hormonAnalyses[g].hormon===e){var h="<b>"+e+"</b>: "+f+" - ",i=hormonAnalyses[g];if(0==g||2==g)for(var d in i.ages){var j=i.ages[d],k=+j.min,l=+j.max;if(c>=k&&c<=l){if(f<+j.low){h+="понижен. ";var m=Hormones[g].descriptionLow;h+=m}else if(f>+j.high){h+="повышен. ";var m=Hormones[g].descriptionHigh;h+=m}else h+="находится в норме. ";b.push(h);break}}else{var n=a[g].state,o=a[g].phase,p=i.states[n].phases[o];if(f<+p.low){h+="понижен. ";var m=Hormones[g].descriptionLow;h+=m}else if(f>+p.high){h+="повышен. ";var m=Hormones[g].descriptionHigh;h+=m}else h+="находится в норме. ";b.push(h)}}}return b},initAge:function(){Form.age=-1;var a=!0,b=$('input[name="birthdate"]').val();if(b.length){var c=Date.parse(b);if(0==isNaN(c)){var d=new Date(c),e=new Date,f=e-d;Form.age=Math.floor(f/31536e6)}else a=!1}else a=!1;a?$("#selectBirthdatePropose").addClass("hidden"):$("#selectBirthdatePropose").removeClass("hidden")},initHormonesPart:function(){var a=function(a){1==a?(Form.notAnalyzeHormones=1,$('#hormones input[type="text"], #hormones input[type="radio"]').prop("disabled",!0),$('#hormones input[type="text"], #hormones input[type="radio"]').prop("required",!1),$('#hormones input[type="text"], #hormones input[type="radio"]').valid()):(Form.notAnalyzeHormones=0,$('#hormones input[type="text"], #hormones input[type="radio"]').prop("disabled",!1),$('#hormones input[type="text"], #hormones input[type="radio"]').prop("required",!0))},b=function(){var b=$('select[name="gender"]').val();1==b?($("#hormones").addClass("hidden"),$("#hormones input").prop("required",!1)):2==b?($("#hormones").removeClass("hidden"),$("#hormones input").prop("required",!0),$("#hormones .form-group").removeClass("hidden"),$("#selectGenderPropose").addClass("hidden"),$("#progesteron_states").removeClass("hidden"),$('#progesteron_states input[name="state"]').prop("checked",!1),$("#progesteron_states .phases").addClass("hide"),$('#progesteron_states input[name="state"]').change(function(){$("#progesteron_states .phases").addClass("hide");var a=$(this).val();$('#progesteron_states .phases[data-state="'+a+'"]').removeClass("hide"),$('#progesteron_states input[name="phase"]').prop("checked",!1)}),a(Form.notAnalyzeHormones)):($("#hormones .form-group").addClass("hidden"),$("#selectGenderPropose").removeClass("hidden")),Form.setGender(b)};$("#no_hormones").prop("checked",!1),b(),$('select[name="gender"]').change(b),$("#no_hormones").change(function(){var b=$("#no_hormones").prop("checked")?1:0;a(b)})},initCocoonPart:function(){var a=$("#cocoon_violations div.basic");a.empty();for(var b=2;b<7;b++){var c=$('<label class="radio-inline"><input type="radio" required="true" name="cocoon" value="'+b+'">'+CocoonViolations[b].subname+"</label>");a.append(c),4==b&&a.append("<br />")}$('#cocoon_violations input[type="radio"]').change(function(){var a=$('input[name="cocoon"]:checked').val();1!=a&&$("#cocoon_violations input#cocoon_undef_descript").val("")})},initKharicheskayaPart:function(){var a=function(a){var b=$(a).data("id");$(a).prop("checked")||$('#kharicheskaya_violation input[type="text"][data-id="'+b+'"]').val("")};$('#kharicheskaya_violation input[type="checkbox"]').change(function(){"normal"==$(this).attr("data-id")?$(this).is(":checked")?($('#kharicheskaya_violation input[type="checkbox"][data-id!="normal"]').prop("disabled",!0),$('#kharicheskaya_violation input[type="checkbox"][data-id!="normal"]').prop("checked",!1)):$('#kharicheskaya_violation input[type="checkbox"][data-id!="normal"]').prop("disabled",!1):$(this).is(":checked")?$('#kharicheskaya_violation input[type="checkbox"][data-id="normal"]').prop("disabled",!0):0==$('#kharicheskaya_violation input[type="checkbox"][data-id!="normal"]:checked').length&&$('#kharicheskaya_violation input[type="checkbox"][data-id="normal"]').prop("disabled",!1),a(this)})},initOrganSystemsDiagnosticsPart:function(){$("#organ #organ_systems_form").empty();var a=$('<div class="col-md-6"></div>'),b=$('<div class="col-md-6"></div>'),c=1,d=6;for(var e in OrganSystems){var f=$('<div class="form-group row"><div class="col-md-5"><label class="control-label">'+OrganSystems[e].name+"</label></div></div>"),g=$('<div class="col-md-7"></div>');for(var h in ThinLevels){var i=ThinLevels[h],j=$('<div class="checkbox-inline"><label><input type="checkbox" data-id="'+e+'" data-level="'+h+'">'+i.L+"</label></div>");g.append(j)}f.append(g),c<=d?a.append(f):b.append(f),c++}$("#organ #organ_systems_form").append(a).append(b)},initOrganDiagnosticsPart:function(){$("#organs #organs_form").empty();var a=OrganDiagnostics.length;for(var b in OrganDiagnostics)OrganDiagnostics[b].hasOwnProperty("parts")&&(a++,a+=OrganDiagnostics[b].parts.length);for(var a=64,c=31,d=1,e=function(a,b,c,e){var f=["Л","П"],g=a.organ.length,h=g>20?" small":"",i=$('<div class="form-group row"><div class="col-md-4"><label class="control-label'+h+'">'+a.organ+"</label></div></div>");for(var j in Form.levels){var k='<div class="checkbox-inline"><label><input type="checkbox" data-main-index="'+c+'" data-part-index="'+e+'" data-id="'+a.organ+'" data-level="'+j+'">'+Form.levels[j]+"</label></div>";i.append(k)}if(a.pair||b)for(var c in f){var k=$('<div class="checkbox-inline pair-'+c+'"><label><input type="checkbox" data-pair="'+f[c]+'">'+f[c]+"</label></div>");i.append(k)}if(a.hasOwnProperty("additional")){var k=$('<div class="checkbox-inline additional"><label><input type="checkbox" data-additional="1">'+a.additional+"</label></div>");i.append(k)}return d++,i},f=$('<div class="col-md-6"></div>'),g=$('<div class="col-md-6 second"></div>'),b=0;b<OrganDiagnostics.length;b++){var h=OrganDiagnostics[b];if(h.hasOwnProperty("parts")){var i=$("<fieldset><legend>"+h.section+"</legend></fieldset>");d++;for(var j in h.parts)i.append(e(h.parts[j],h.pair,b,j));d<c?f.append(i):g.append(i),d<c?f.append("<hr>"):g.append("<hr>")}else d<c?f.append(e(h,!1,b,-1)):g.append(e(h,!1,b,-1))}$("#organs #organs_form").append(f).append(g)},initShellPart:function(){$("#organ #shells_form").empty();var a=function(){var a=[],b='<option value="0" selected>&mdash;</option>';a.push(b);for(var c=1;c<=7;c++){var b='<option value="'+c+'">'+c+"</option>";a.push(b)}return a};for(var b in MainChakraViolations){var c=parseInt(b);c++;var d=c+") ",e=MainChakraViolations[b].chakra,f=$('<div class="form-group row"><label class="control-label col-lg-3 col-md-4 col-xs-12 name">'+d+e+'</label><label class="control-label col-md-1 col-xs-1 appendix">c:</label><div class="col-md-2 col-xs-4"><select data-id="'+b+'" data-for="from" class="form-control">'+a()+'</select></div><label class="control-label col-md-1 col-xs-1 appendix">по:</label><div class="col-md-2 col-xs-4"><select data-id="'+b+'" data-for="to" class="form-control">'+a()+"</select></div></div></div>");$("#organ #shells_form").append(f)}$("#organ #shells_form select").each(function(){$(this).rules("add",{diapasonCheck:!0})}),$("form#shells_form select").change(function(){var a=$(this).attr("data-id");$('form#shells_form select[data-id="'+a+'"]').removeClass("error"),$("#selectError").empty()})},showLoader:function(){$("#loader").show(),$("#Diagnostics").hide(),$("#Results").hide(),$("#Descriptions").hide()},hideLoader:function(){$("#loader").hide(),$("#Diagnostics").show(),$("#Results").show(),$("#Descriptions").show();var a=window.location.hash.substr(1);a.length&&"Form"!==a&&$("html, body").animate({scrollTop:$("#"+a).offset().top},100)},initValidator:function(){var a={number:!0,min:0},b={number:!0,min:0,max:100};$.validator.addMethod("diapasonCheck",function(a,b){var c=+a,d=$(b).attr("data-id"),e=$(b).attr("data-for");if("from"==e){var f=$('select[data-id="'+d+'"][data-for="to"]').val();return(0!=f||0==c)&&c<=f}if("to"==e){var g=$('select[data-id="'+d+'"][data-for="from"]').val();return(0!=g||0==c)&&g<=c}},"Границы диапазона должны быть определены и конец диапазона должен быть больше чем начало.");var c={estrogen:a,progesteron:a,testosteron:a,cosmos:b,earth:b,native:b,conscious:b,subconscious:b,mind:b,soul:b};$('#outside input[type="text"]').each(function(){var b=$(this).attr("name");c[b]=a}),$("form").each(function(){var a=$(this).validate({ignore:!1,lang:"ru",messages:{cocoon:"Выберете форму кокона.",state:"Выберете одно из состояний.",phase:"Выберете фазу в выбранном состоянии."},rules:c,errorPlacement:function(a,b){b.parent("div").hasClass("date")?a.appendTo(b.parent("div").parent("div")):"cocoon"==b.attr("name")?a.insertBefore("#cocoon_violations"):"state"==b.attr("name")?a.insertBefore("#progesteron_states"):"phase"==b.attr("name")?a.insertBefore('#progesteron_states input[name="state"]:checked'):b.is("select")?(a.addClass("col-md-offset-2").addClass("col-xs-offset-0"),$("#selectError").html(a)):a.appendTo(b.parent("div"))}});Form.addValidator(a)})},analyseFormData:function(){if(Form.validFormData()){var a=new Diagnostics;Form.processChakraMainForm(a),Form.processChakraSmallForm(a),Form.processChakraAdditionalForm(a),Form.processEnergeticForm(a),Form.processConfidenceForm(a),Form.processOrganSystemsForm(a),Form.processOrgansForm(a),Form.processShellsForm(a,!0),Form.printDiagnostics(a)}},validFormData:function(){var a=!0;if(!Form.needValidate)return Form.resetValidators();Form.clearResults(),Form.tabsFormValid=!0,Form.accountFormValid=$("#account_form").valid(),Form.accountFormValid||(a=!1,$("html, body").animate({scrollTop:$("#account_form").offset().top},100));var b=2==Form.gender;!$("#energetic_form").valid()||b&&!$("#hormones input").valid()?(Form.tabsFormValid=!1,a=!1,$("#tab_energetics").addClass("error"),$("#tab_bioenergy").addClass("bg-danger")):($("#tab_energetics").removeClass("error"),$("#tab_bioenergy").removeClass("bg-danger"));var c=function(){var a=!0;return $("#confidence_form #outside table input").each(function(){a=$(this).valid()}),a};return $("#confidence_form").valid()?($("#tab_confidence").removeClass("error"),$("#outside label").removeClass("red")):(Form.tabsFormValid=!1,a=!1,$("#tab_confidence").addClass("error"),c()?($("#outside label").removeClass("red"),$("#tab_bioenergy").removeClass("bg-danger")):($("#outside label").addClass("red"),$("#tab_bioenergy").addClass("bg-danger"))),$("#shells_form select").valid()?($("#tab_shells").removeClass("error"),$("#tab_organism").removeClass("bg-danger")):(Form.tabsFormValid=!1,$("#tab_shells").addClass("error"),$("#tab_organism").addClass("bg-danger"),a=!1),Form.accountFormValid&&!a&&$("html, body").animate({scrollTop:$("#Diagnostics").offset().top},100),Form.accountFormValid?$("#account_form_msg").addClass("hidden"):$("#account_form_msg").removeClass("hidden"),Form.tabsFormValid?$("#tabs_form_msg").addClass("hidden"):$("#tabs_form_msg").removeClass("hidden"),Form.setValid(a),a},processChakraMainForm:function(a){var b=function(a){return"front"==a?"спереди":"middle"==a?"по центру":"back"==a?"сзади":void 0},c=$("#chakra_main_form").serializeArray(),d=[];for(var e in c){var f=c[e],g=f.name,h=f.value,i="<b>"+MainChakraViolations[h].chakra+" "+b(g)+"</b>",j=i+": "+MainChakraViolations[h][g];d.push(j)}a.setChakraMain(d)},processChakraAdditionalForm:function(a){var b=[];if($("input#chakra_additional_1").prop("checked")){var c="<b>верхняя шама: </b>",d=c+AdditionalChakraViolations[0].description;b.push(d)}if($("input#chakra_additional_2").prop("checked")){var c="<b>нижняя шама: </b>",d=c+AdditionalChakraViolations[1].description;b.push(d)}a.setChakraAdditional(b)},processChakraSmallForm:function(a){var b=$("#chakra_small_form").serializeArray(),c=[];for(var d in b){var e=b[d],f=e.name,g="<b>"+SmallChakraViolations[f].chakra+": </b>",h=g+SmallChakraViolations[f].description;c.push(h)}a.setChakraSmall(c)},processEnergeticForm:function(a){var b=[];if(2==Form.gender&&0==Form.notAnalyzeHormones){b.hormones=[];var c=Form.getGenderHormones(),d=$("#hormones input").valid(),e="Возраст: <b>"+Form.age+"</b> лет";if(d&&Form.age>Form.ageHormonsBound){var f=[];for(var g in c){var h=c[g],i=+$('#hormones input[data-id="'+h+'"]').val(),j={hormon:Hormones[h].hormon,value:i};1==g&&(j.state=$('#progesteron_states input[name="state"]:checked').val(),j.phase=$('#progesteron_states input[name="phase"]:checked').val()),f.push(j)}var k=Form.analyzeHormons(f);b.hormones=k}else b.hormones=["(нет данных. проверьте правильность заполнения формы)"];b.hormones.unshift(e)}var l=$('input[name="cocoon"]:checked').val();if(void 0!==l){b.cocoon=[];for(var g in CocoonViolations)if(CocoonViolations[g].id==l){if(b.cocoon.form=CocoonViolations[g].violation,b.cocoon.description=CocoonViolations[g].description,1==l){var m=$("#energetic_form input#cocoon_undef_descript").val().trim();m.length>0&&(b.cocoon.notes=m)}break}}b.kharicheskaya=[],$('#kharicheskaya_violation input[type="checkbox"]:checked').each(function(){var a=$(this).data("id");if("normal"==a){var c="<b>"+KharicheskayaLineViolations[0].trans+"</b>";b.kharicheskaya.push(c)}else for(var d in KharicheskayaLineViolations)if(KharicheskayaLineViolations[d].position==a){var c="<b>"+KharicheskayaLineViolations[d].trans+"</b>: ",e=$('#kharicheskaya_violation input[type="text"][data-id="'+a+'"]').val().trim()+" ";e.length&&(c+=e+"<br />"),c+=KharicheskayaLineViolations[d].description,b.kharicheskaya.push(c)}}),b.thin_levels=[],$('#thin_levels input[type="checkbox"]:checked').each(function(){var a=$(this).data("id");for(var c in ThinLevels)if(ThinLevels[c].id==a){var d="<b>"+ThinLevels[c].level+"</b>: <small>"+ThinLevels[c].description+"</small>";b.thin_levels.push(d)}}),b.biofield=[],b.biofield.description=BiofieldCheck[0].description;var d=$("#biofield_sizes input").valid();if(d){var n=+$('#biofield_sizes input[name="cosmos"]').val(),o=+$('#biofield_sizes input[name="earth"]').val(),p=+$('#biofield_sizes input[name="native"]').val(),q="";if(n>o?q=BiofieldCheck[1].description:n<o?q=BiofieldCheck[2].description:n===o&&(q=BiofieldCheck[3].description),b.biofield.cosmoearth=q,q="",!isNaN(p)){for(var g=4;g<7;g++){var r=BiofieldCheck[g],s=+r.min,t=+r.max;if(p>=s&&p<=t){q=r.description;break}}b.biofield.native=q}}a.setEnergeticForm(b)},processConfidenceForm:function(a){var b=[],c=$("#confidence #inside input").valid();if(c){b.inside={harmonic:"В целом состояние гармоничное.",priority:""};var d=[];$("#confidence #inside input").each(function(){var a=+$(this).val();d.push(a)});var e=Max(d);b.inside.priority=IndicatorsPersonal[e].description;var f=Covariation(d);f>10&&(b.inside.harmonic="В целом состояние негармоничное.")}a.setConfidenceForm(b)},processOrganSystemsForm:function(a){var b="form#organ_systems_form div.checkbox-inline ",c=[];for(var d in OrganSystems){var e=OrganSystems[d],f="";$(b+'input[type="checkbox"][data-id="'+d+'"]:checked').length&&(f="<b>"+e.name+":</b>");for(var g in Form.levels)if($(b+'input[type="checkbox"][data-id="'+d+'"][data-level="'+g+'"]').prop("checked")){var h=e.diagnostics[g].description;h.length&&(f+=" "+h)}f.length&&c.push(f)}a.setOrganSystemsForm(c)},processOrgansForm:function(a){var b="form#organs_form div.checkbox-inline ",c=[];for(var d in OrganDiagnostics){c.push([]);var e=OrganDiagnostics[d];if(e.hasOwnProperty("parts"))for(var f in e.parts){var g=e.parts[f];for(var h in Form.levels)if($(b+'input[type="checkbox"][data-main-index="'+d+'"][data-part-index="'+f+'"][data-level="'+h+'"]').prop("checked")&&void 0!==g.diagnostics[h]){var i=g.diagnostics[h].description;c[d].push(i)}}else for(var h in Form.levels)if($(b+'input[type="checkbox"][data-main-index="'+d+'"][data-level="'+h+'"]').prop("checked")&&void 0!==e.diagnostics[h]){var i=e.diagnostics[h].description;c[d].push(i)}}var j=[];for(var d in c){var k=c[d].length,l=OrganDiagnostics[d].hasOwnProperty("section")?OrganDiagnostics[d].section:OrganDiagnostics[d].organ;if(k>0){for(var m="<b>"+l+"</b>: ",n=0;n<k;n++)m+=c[d][n],n<k-1&&(m+="; ");j.push(m)}}a.setOrgansForm(j)},processShellsForm:function(a,b){var c="form#shells_form ";$(c).validate();var d=function(a,b){var c=[];if(b<a)return[];for(var d=a;d<=b;d++)c.push(+d);return c},e=function(a,b,c){var e=d(b,c);if(e.length){var f="",g=Shells[a];for(var h in e){var i=e[h],j=g[i];j.length&&(f+=j+" ")}return f}return""},f=[];for(var g in MainChakraViolations){var h=MainChakraViolations[g].chakra,i=+$(c+'select[data-for="from"][data-id="'+g+'"]').val(),j=+$(c+'select[data-for="to"][data-id="'+g+'"]').val();if(0!=i&&0!=j&&i<=j){var k="<b>Чакра "+h+":</b>";if(k+=i==j?" нарушена "+i+" оболочка":" нарушены оболочки с "+i+" по "+j,f.push(k),1==b){var l=e(g,i,j);f.push("<small>"+l+"</small>")}}}a.setShellsForm(f)},clearResults:function(){$("#Results #bioenergy-part, #Results #organism-part").empty(),$("#Results #bioenergy-part, #Results #organism-part").append('<p class="no-results">Результаты не были получены.</p>')},printDiagnostics:function(a){Form.needValidate&&$("#diagnostics_success").modal();var b=Form.initTitle;Form.needValidate&&Form.isValid&&(b="Анкета - "+$('input[name="firstname"]').val()+" "+$('input[name="name"]').val()),$("head title").text(b),$(".link_results").removeClass("disabled"),$("html, body").animate({scrollTop:$("#Results").offset().top},100);var c="#Results #bioenergy-part";if($(c).empty(),$(c).append("<h3>Чакры</h3>"),a.chakraMain.length){$(c).append("<h4>Основные чакры</h4>");for(var d in a.chakraMain){var e=a.chakraMain[d];$(c).append("<p>"+e+"</p>")}}if(a.chakraAdditional.length){$(c).append("<h4>Дополнительные чакры</h4>");for(var d in a.chakraAdditional){var e=a.chakraAdditional[d];$(c).append("<p>"+e+"</p>")}}if(a.chakraSmall.length){$(c).append("<h4>Мелкие чакры</h4>");for(var d in a.chakraSmall){var e=a.chakraSmall[d];$(c).append("<p>"+e+"</p>")}}if($(c).append("<hr><h3>Энергетика</h3>"),a.energeticForm.hasOwnProperty("hormones")){$(c).append("<h4>Уровень гормонов</h4>");var e="";for(var d in a.energeticForm.hormones)e+=a.energeticForm.hormones[d]+"<br>";$(c).append("<p>"+e+"</p>")}if(a.energeticForm.hasOwnProperty("cocoon")){$(c).append("<h4>Форма кокона</h4>");var e="<b>"+a.energeticForm.cocoon.form+":&nbsp;</b>";a.energeticForm.cocoon.hasOwnProperty("notes")&&(e+=a.energeticForm.cocoon.notes+"<br>"),e+=a.energeticForm.cocoon.description,$(c).append("<p>"+e+"</p>")}if(a.energeticForm.kharicheskaya.length){$(c).append("<h4>Харическая линия</h4>");for(var d in a.energeticForm.kharicheskaya){var e=a.energeticForm.kharicheskaya[d];$(c).append("<p>"+e+"</p>")}}if(a.energeticForm.thin_levels.length){$(c).append("<h4>Проблемы на уровне 4 тонких тел</h4>");for(var d in a.energeticForm.thin_levels){var e=a.energeticForm.thin_levels[d];$(c).append("<p>"+e+"</p>")}}if(a.energeticForm.hasOwnProperty("biofield")){$(c).append("<h4>Размер биополя</h4>");var e=a.energeticForm.biofield.description;if(a.energeticForm.biofield.hasOwnProperty("cosmoearth")){var e=a.energeticForm.biofield.cosmoearth;$(c).append("<p>"+e+"</p>")}if(a.energeticForm.biofield.hasOwnProperty("native")){var e=a.energeticForm.biofield.native;$(c).append("<p>"+e+"</p>")}}if($(c).append("<hr><h3>Уверенность</h3>"),a.confidenceForm.hasOwnProperty("inside")){$(c).append("<h4>Внутренняя уверенность</h4>");var e=a.confidenceForm.inside.harmonic;if($(c).append("<p>"+e+"</p>"),a.confidenceForm.inside.hasOwnProperty("priority")){var e=a.confidenceForm.inside.priority;$(c).append("<p>"+e+"</p>")}}if(0===$(c).html().length&&$(c).append('<p class="no-results">Результаты не были получены.</p>'),c="#Results #organism-part",$(c).empty(),a.organSystemsForm.length){$(c).append("<h3>Системы организма</h3>");for(var d in a.organSystemsForm)$(c).append("<p>"+a.organSystemsForm[d]+"</p>");$(c).append("<hr>")}if(a.organsForm.length){$(c).append("<h3>Внутренние органы</h3>");for(var d in a.organsForm){var e=a.organsForm[d];$(c).append("<p>"+e+"</p>")}}if(a.shellsForm.length){$(c).append("<h3>Оболочки чакр</h3>");for(var d in a.shellsForm){var e=a.shellsForm[d];$(c).append("<p>"+e+"</p>")}}0===$(c).html().length&&$(c).append('<p class="no-results">Результаты не были получены.</p>'),Form.needValidate&&Form.isValid&&$("button#print").removeClass("disabled")},printResults:function(){window.print()}};Diagnostics.prototype={setChakraMain:function(a){this.chakraMain=a},setChakraSmall:function(a){this.chakraSmall=a},setChakraAdditional:function(a){this.chakraAdditional=a},setEnergeticForm:function(a){this.energeticForm=a},setConfidenceForm:function(a){this.confidenceForm=a},setOrganSystemsForm:function(a){this.organSystemsForm=a},setOrgansForm:function(a){this.organsForm=a},setShellsForm:function(a){this.shellsForm=a}};